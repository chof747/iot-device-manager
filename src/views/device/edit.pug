extends ../layout.pug
include ../includes/textfield.pug
include ../includes/actions.pug

block content

    h1 Edit Device
    form(method='POST', action='')
        input(type='hidden', name='id', value=(create) ? '' : device.id)
        table
            tr
                td(class='infoonly') MAC Address :
                td(class='infoonly') #{device.mac}
            +textField('name', 'Device Name', device.name)
            +textField('description', 'Description', device.description)
            tr
                td
                    label(for="location") Location:
                td
                    select(name="location", class="form-control")
                        option(value=null) None
                        each location in locations 
                            option(value=location.id, selected=(device.LocationId == location.id)) #{location.name}
            tr
                td
                    label(for="firmware") Firmware:
                td
                    select(name="firmware", class="form-control")
                        option(value=null) None
                        each firmware in firmwares 
                            option(value=firmware.id, selected=(device.FirmwareId == firmware.id)) #{firmware.name} (#{firmware.versionAvailable})                            
            +textField('firmwareVersion', 'Installed Firmware Version', device.firmwareVersion)
            +textField('model', 'Model', device.model)
            +actions('Submit')
